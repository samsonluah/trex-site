
[functions.stripe-checkout]
enabled = true
verify_jwt = false  # Changed to false to allow unauthenticated access for now
import_map = "./functions/stripe-checkout/deno.json"
# Uncomment to specify a custom file path to the entrypoint.
# Supported file extensions are: .ts, .js, .mjs, .jsx, .tsx
entrypoint = "./functions/stripe-checkout/index.ts"
# Specifies static files to be bundled with the function. Supports glob patterns.
# For example, if you want to serve static HTML pages in your function:
# static_files = [ "./functions/stripe-checkout/*.html" ]

[functions.stripe-checkout.cors]
allowed_origins = ["*"]
allowed_methods = ["POST", "GET", "OPTIONS"]
allowed_headers = ["content-type", "authorization", "x-client-info", "apikey", "accept"]
expose_headers = ["content-type", "authorization", "x-client-info", "apikey", "accept"]
max_age = 86400 # 24 hours

[functions.validate-session]
enabled = true
verify_jwt = false  # Changed to false to allow unauthenticated access for now
import_map = "./functions/validate-session/deno.json"
entrypoint = "./functions/validate-session/index.ts"

[functions.validate-session.cors]
allowed_origins = ["*"] 
allowed_methods = ["GET", "OPTIONS"]
allowed_headers = ["content-type", "authorization", "x-client-info", "apikey", "accept"]
expose_headers = ["content-type", "authorization", "x-client-info", "apikey", "accept"] 
max_age = 86400 # 24 hours
